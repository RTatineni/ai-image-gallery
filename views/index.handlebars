
<form method="POST" action="/api/image-upload" enctype="multipart/form-data">
        <div class="field">
            <label for="image">Image Upload</label>
            <input type="file" name="image" id="image">
        </div>
        <input type="submit" class="btn" value="Save">
</form>


<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@0.11.7"> </script>
<!-- Load the MobileNet model. -->
<script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/mobilenet@0.1.1"> </script>
<body>
    <div class="row">
      <div class="column">
        <img
          src="{{imgUrls}}"
          style="width:200px;height:200px"
          class="hover-shadow cursor"
          data-toggle="modal"
          data-target="#aaron-modal",
          crossorigin="anonymous",
          id ='img'
        />
      </div>

    </div>
    <div class="row">
      <div class="column">
        <img
          src="{{imgUrls}}"
          style="width:200px;height:200px"
          class="hover-shadow cursor"
          data-toggle="modal"
          data-target="#aaron-modal"
        >{{output}}</img>
      </div>

    </div>
    <div class="row">
      <div class="column">
        <img
          src="{{imgUrls}}"
          style="width:200px;height:200px"
          class="hover-shadow cursor"
          data-toggle="modal"
          data-target="#aaron-modal"
        />
      </div>

    </div>
    <!-- make this button better -->
    <!-- <button
      type="button"
      class="btn btn-primary"
      data-toggle="modal"
      data-target="#aaron-modal"
    >
      Launch demo modal
    </button> -->
    <!--  end button -->
    <div
      class="modal fade"
      id="aaron-modal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="aaron-modalTitle"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
         <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="modal-content">
          <div class="modal-body">
            <!-- caro -->
            <div
              id="aaron-modal"
              class="carousel slide"
              data-ride="carousel"
            >
              <ol class="carousel-indicators">
                <li
                  data-target="#aaron-modal"
                  data-slide-to="0"
                  class="active"
                ></li>
                <li
                  data-target="#aaron-modal"
                  data-slide-to="1"
                ></li>
                <li
                  data-target="#aaron-modal"
                  data-slide-to="2"
                ></li>
                <li
                  data-target="#aaron-modal"
                  data-slide-to="3"
                ></li>
              </ol>
              <div class="carousel-inner">
                <div class="carousel-item active">
                  <img
                    src="https://mdbootstrap.com/img/Photos/Slides/img%20(130).jpg"
                    class="img-fluid"
                    alt="Responsive image"
                  />
                </div>
                <div class="carousel-item">
                  <img
                    src="https://mdbootstrap.com/img/Photos/Slides/img%20(129).jpg"
                    class="img-fluid"
                    alt="Responsive image"
                  />
                </div>
                <div class="carousel-item">
                  <img
                    src="https://mdbootstrap.com/img/Photos/Slides/img%20(70).jpg"
                    class="img-fluid"
                    alt="Responsive image"
                  />
                </div>
                <div class="carousel-item">
                  <img
                    src="https://mdbootstrap.com/img/Photos/Slides/img%20(80).jpg"
                    class="img-fluid"
                    alt="Responsive image"
                  />
                </div>
              </div>
              <a
                class="carousel-control-prev"
                href="#aaron-modal"
                role="button"
                data-slide="prev"
              >
                <span
                  class="carousel-control-prev-icon"
                  {{!-- aria-hidden="true" --}}
                ></span>
                <span class="sr-only">Previous</span>
              </a>
              <a
                class="carousel-control-next"
                href="#aaron-modal"
                role="button"
                data-slide="next"
              >
                <span
                  class="carousel-control-next-icon"
                  {{!-- aria-hidden="true" --}}
                ></span>
                <span class="sr-only">Next</span>
              </a>
            </div>
            <!-- end caro -->
          </div>
        </div>
      </div>
    </div>





<!-- Replace this with your image. Make sure CORS settings allow reading the image! -->
{{!-- <img id="img" src="{{imgUrls}}"  crossorigin="anonymous" ></img> --}}
<!-- Place your code in the script tag below. You can also use an external .js file -->
<script crossorigin="anonymous">
  // Notice there is no 'import' statement. 'mobilenet' and 'tf' is
  // available on the index-page because of the script tag above.
  function classifyImg(imgId){

    const img = document.getElementById(imgId);
 // var img = <img id="img" src="https://images-na.ssl-images-amazon.com/images/I/A1cd6TMkAML._SL1500_.jpg"  crossorigin="anonymous"/>
   //Load the model.
    mobilenet.load().then(model => {
    // Classify the image.
      model.classify(img).then(predictions => {
        console.log('Predictions: ');

        console.log(predictions);

      });
    });
  }

  classifyImg('img')
</script>
